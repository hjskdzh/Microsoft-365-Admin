<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>订阅 - Microsoft 365 管理系统</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/materialdesignicons.min.css" rel="stylesheet">
    <link href="css/style.min.css" rel="stylesheet">
</head>
<body>
<div class="lyear-layout-web">
    <div class="lyear-layout-container">
        <!--左侧导航-->
        <aside class="lyear-layout-sidebar">

            <!-- logo -->
            <div id="logo" class="sidebar-header">
                <a href="index.html"><img src="images/logo-sidebar.png" title="LightYear"
                                          alt="LightYear"/></a>
            </div>
            <div class="lyear-layout-sidebar-scroll">

                <nav class="sidebar-main">
                    <ul class="nav nav-drawer">
                        <li class="nav-item nav-item-has-subnav">
                            <a href="index.html"><i class="mdi mdi-home"></i> 后台首页</a>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="licenses.html"><i class="mdi mdi-shape-rectangle-plus"></i>订阅管理</a>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="users.html"><i class="mdi mdi-account-multiple"></i>用户管理</a>
                        </li>
                        <li class="nav-item nav-item-has-subnav active">
                            <a href="code.html"><i class="mdi mdi-account-star"></i>邀请管理</a>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="about.html"><i class="mdi mdi-information-variant"></i>关于平台</a>
                        </li>
                    </ul>
                </nav>

            </div>

        </aside>
        <!--End 左侧导航-->

        <!--头部信息-->
        <!--        <div class="headerPage"></div>-->
        <header class="lyear-layout-header">

            <nav class="navbar navbar-default">
                <div class="topbar">

                    <div class="topbar-left">
                        <div class="lyear-aside-toggler">
                            <span class="lyear-toggler-bar"></span>
                            <span class="lyear-toggler-bar"></span>
                            <span class="lyear-toggler-bar"></span>
                        </div>
                        <span class="navbar-page-title" id="titleName"> 后台首页 </span>
                    </div>

                    <ul class="topbar-right">
                        <!--切换主题配色-->
                        <li class="dropdown dropdown-skin">
                            <span data-toggle="dropdown" class="icon-palette"><i class="mdi mdi-palette"></i></span>
                            <ul class="dropdown-menu dropdown-menu-right" data-stopPropagation="true">
                                <li class="drop-title"><p>主题</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="site_theme" value="default" id="site_theme_1" checked>
                    <label for="site_theme_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="site_theme" value="dark" id="site_theme_2">
                    <label for="site_theme_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="site_theme" value="translucent" id="site_theme_3">
                    <label for="site_theme_3"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>LOGO</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="logo_bg" value="default" id="logo_bg_1" checked>
                    <label for="logo_bg_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_2" id="logo_bg_2">
                    <label for="logo_bg_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_3" id="logo_bg_3">
                    <label for="logo_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_4" id="logo_bg_4">
                    <label for="logo_bg_4"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_5" id="logo_bg_5">
                    <label for="logo_bg_5"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_6" id="logo_bg_6">
                    <label for="logo_bg_6"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_7" id="logo_bg_7">
                    <label for="logo_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_8" id="logo_bg_8">
                    <label for="logo_bg_8"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>头部</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="header_bg" value="default" id="header_bg_1" checked>
                    <label for="header_bg_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_2" id="header_bg_2">
                    <label for="header_bg_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_3" id="header_bg_3">
                    <label for="header_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_4" id="header_bg_4">
                    <label for="header_bg_4"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_5" id="header_bg_5">
                    <label for="header_bg_5"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_6" id="header_bg_6">
                    <label for="header_bg_6"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_7" id="header_bg_7">
                    <label for="header_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_8" id="header_bg_8">
                    <label for="header_bg_8"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>侧边栏</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="sidebar_bg" value="default" id="sidebar_bg_1" checked>
                    <label for="sidebar_bg_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_2" id="sidebar_bg_2">
                    <label for="sidebar_bg_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_3" id="sidebar_bg_3">
                    <label for="sidebar_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_4" id="sidebar_bg_4">
                    <label for="sidebar_bg_4"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_5" id="sidebar_bg_5">
                    <label for="sidebar_bg_5"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_6" id="sidebar_bg_6">
                    <label for="sidebar_bg_6"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_7" id="sidebar_bg_7">
                    <label for="sidebar_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_8" id="sidebar_bg_8">
                    <label for="sidebar_bg_8"></label>
                  </span>
                                </li>
                            </ul>
                        </li>
                        <!--切换主题配色-->

                        <!-- 切换组织类型-->
                        <div class="form-group">
                            <div class="col-xs-12">
                                <label for="appNameSelect"></label>
                                <select id="appNameSelect" class="form-control" name="app-select" size=""
                                        onchange="reloadPage()">
                                </select>
                            </div>
                        </div>
                        <div class="col-xs-5">
                            <button class="btn btn-label" id="clearCache" onclick="refreshCache()"><label><i
                                    class="mdi mdi-cached"></i></label>刷新缓存
                            </button>
                        </div>
                    </ul>

                </div>
            </nav>

        </header>
        <!--End 头部信息-->

        <!--页面主要内容-->
        <main class="lyear-layout-content">

            <div class="container-fluid">
                <!--许可证-->
                <div class="row">
                    <div class="col-sm-6 col-lg-3">
                        <div class="card ">
                            <div class="card-body clearfix">
                                <div class="pull-right">
                                    <p class="h5 m-t-0">总邀请码</p>
                                    <p class="h3 m-b-0 " id="codes">00</p>
                                </div>
                                <div class="pull-left"><span class="img-avatar img-avatar-48 bg-translucent"><i
                                        class="mdi mdi-code-array fa-1-5x"></i></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-lg-3">
                        <div class="card ">
                            <div class="card-body clearfix">
                                <div class="pull-right">
                                    <p class="h5 m-t-0">可用邀请码</p>
                                    <p class="h3 m-b-0" id="codeValid">0</p>
                                </div>
                                <div class="pull-left"><span class="img-avatar img-avatar-48 bg-translucent"><i
                                        class="mdi mdi-code-tags-check fa-1-5x"></i></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-lg-3">
                        <div class="card ">
                            <div class="card-body clearfix">
                                <div class="pull-right">
                                    <p class="h5 m-t-0">失效邀请码</p>
                                    <p class="h3 m-b-0" id="codeInvalid">0</p>
                                </div>
                                <div class="pull-left"><span class="img-avatar img-avatar-48 bg-translucent"><i
                                        class="mdi mdi-code-tags fa-1-5x"></i></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-3">
                        <div class="card ">
                            <div class="card-body clearfix">
                                <div class="pull-right">
                                    <p class="h5 m-t-0">邀请用户数</p>
                                    <p class="h3 m-b-0" id="codeInvalidUser">0</p>
                                </div>
                                <div class="pull-left"><span class="img-avatar img-avatar-48 bg-translucent"><i
                                        class="mdi mdi-human-male-female fa-1-5x"></i></span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 搜索框-->
                <div class="row">
                    <div class="col-xs-2">
                        <label for="codeValidSelect"></label>
                        <select class="form-control" id="codeValidSelect" name="login-select" size="1">
                            <option value="" disabled selected hidden>状态</option>
                            <option value="">不限制</option>
                            <option value="true">有效</option>
                            <option value="false">失效</option>
                        </select>
                    </div>
                    <div class="col-xs-2">
                        <label for="codeInput"></label>
                        <input class="form-control" type="text" id="codeInput"
                               name="account-text-input"
                               style="height: 33px"
                               placeholder="请输入邀请码">
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-info"
                                style="margin:21px auto auto auto; height: 33px"
                                type="submit" onclick="searchCodes()">搜索
                        </button>
                    </div>
                </div>
                <br>
                <div class="row">

                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-toolbar clearfix">
                                <!-- 操作按钮-->
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="toolbar-btn-action" style=" height: 33px">
                                            <a class="btn m-r-10" data-toggle="modal"
                                               data-target=".bs-add-modal-lg">
                                                <i class="mdi mdi-plus" id="add"></i> 生成邀请码
                                            </a>

                                        </div>
                                    </div>
                                </div>
                                <!--模糊框-->
                                <div class="modal fade bs-add-modal-lg" tabindex="-1" role="dialog"
                                     aria-labelledby="addLabel">
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close"><span
                                                        aria-hidden="true">×</span></button>
                                                <h4 class="modal-title" id="addLabel">新增邀请码</h4>
                                            </div>
                                            <div class="modal-body col-xs-12">
                                                <div class="col-xs-12">
                                                    <div class="input-group m-b-10">
                                                        <span class="input-group-addon"
                                                              id="add-display-name">数量</span>
                                                        <input type="text" class="form-control" placeholder=""
                                                               id="numCode"
                                                               aria-describedby="add-display-name-input">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                                                </button>
                                                <button type="button" class="btn btn-primary" id="addUserClick"
                                                        data-dismiss="modal"
                                                        onclick="addCodeClick()">保存
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--模糊框 end-->
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table id="codeTable" class="table table-bordered text-center">
                                        <thead>
                                        <tr class="text-center">
<!--                                            <th>-->
<!--                                                <label class="lyear-checkbox checkbox-primary">-->
<!--                                                    <input type="checkbox" id="check-all"><span></span>-->
<!--                                                </label>-->
<!--                                            </th>-->
                                            <th class="text-center">#</th>
                                            <th class="text-center">编码</th>
                                            <th class="text-center">生成时间</th>
                                            <th class="text-center">状态</th>
                                            <th class="text-center">失效时间</th>
                                            <th class="text-center">被邀请用户</th>
                                            <th class="text-center">订阅</th>
                                        </tr>
                                        </thead>
                                    </table>
                                </div>
                                <ul class="pagination" id="pagination">
                                    <li class="" onclick="pageOnclickCode(0)"><span>上一页</span></li>
                                    <li class="disabled">
                                        <span id="codeIndex"></span>
                                        <span id="codeTotal"></span>
                                    </li>
                                    <li class="" onclick="pageOnclickCode(1)"><span>下一页</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </main>
        <!--End 页面主要内容-->
    </div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/perfect-scrollbar.min.js"></script>
<script type="text/javascript" src="js/main.min.js"></script>
<!--消息提示-->
<script src="js/bootstrap-notify.min.js"></script>
<script type="text/javascript" src="js/lightyear.js"></script>
<!-- 自定义-->
<script language=javascript src='js/config.js'></script>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript" src="js/code.js"></script>
</body>

<!--<script>-->
<!--    $(function () {-->
<!--        $(".headerPage").load("header.html");-->
<!--        // $(".footerpage").load("footer.html");-->
<!--    });-->
<!--</script>-->

</html>